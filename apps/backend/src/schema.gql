# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthResponse {
  accessToken: String!
  refreshToken: String!
  user: UserModel!
}

input ChangePasswordInput {
  currentPassword: String!
  newPassword: String!
}

type ClassroomDetailModel {
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  name: String!
  studentCount: Int!
  students: [EnrolledStudentModel!]!
  subjectCount: Int!
  subjects: [SubjectSummaryModel!]!
  updatedAt: DateTime!
}

type ClassroomListModel {
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  name: String!
  studentCount: Int!
  subjectCount: Int!
}

type ClassroomModel {
  description: String
  id: ID!
  isActive: Boolean!
  name: String!
  studentCount: Int
  subjectCount: Int
}

input CreateClassroomInput {
  description: String
  name: String!
}

input CreateLessonInput {
  content: String
  description: String
  isDraft: Boolean = true
  moduleId: String!
  order: Int
  title: String!
}

input CreateModuleInput {
  description: String
  name: String!
  order: Int
  subjectId: String!
}

input CreateStudentInput {
  classroomId: String!
  email: String!
  parentName: String
  password: String!
  studentName: String!
}

input CreateSubjectInput {
  classroomId: String!
  color: String
  description: String
  icon: String
  name: String!
  order: Int
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

input EnrollStudentInput {
  classroomId: String!
  studentUserId: String!
}

type EnrolledStudentModel {
  enrolledAt: DateTime!
  id: ID!
  student: StudentModel!
}

type EnrollmentResultModel {
  message: String!
  success: Boolean!
}

type LessonDetailModel {
  assignmentCount: Int!
  content: String
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  isDraft: Boolean!
  media: [LessonMediaModel!]!
  mediaCount: Int!
  moduleId: String!
  order: Int!
  title: String!
  updatedAt: DateTime!
}

type LessonMediaModel {
  id: ID!
  media: MediaModel!
  order: Int!
}

type LessonModel {
  assignmentCount: Int!
  content: String
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  isDraft: Boolean!
  mediaCount: Int!
  moduleId: String!
  order: Int!
  title: String!
  updatedAt: DateTime!
}

type LessonResultModel {
  message: String!
  success: Boolean!
}

type LessonSummaryModel {
  assignmentCount: Int!
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  isDraft: Boolean!
  mediaCount: Int!
  order: Int!
  title: String!
}

input LoginInput {
  email: String!
  password: String!
}

type MediaModel {
  createdAt: DateTime!
  filename: String!
  id: ID!
  mimeType: String!
  originalName: String!
  size: Int!
  type: MediaType!
  url: String!
}

"""Type of media file"""
enum MediaType {
  AUDIO
  IMAGE
  PDF
  VIDEO
}

type MessageResponse {
  message: String!
  success: Boolean!
}

type ModuleDetailModel {
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  lessonCount: Int!
  lessons: [LessonSummaryModel!]!
  name: String!
  order: Int!
  subjectId: String!
  updatedAt: DateTime!
}

type ModuleModel {
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  lessonCount: Int!
  name: String!
  order: Int!
  subjectId: String!
  updatedAt: DateTime!
}

type ModuleResultModel {
  message: String!
  success: Boolean!
}

type ModuleSummaryModel {
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  lessonCount: Int!
  name: String!
  order: Int!
}

type Mutation {
  """Change password"""
  changePassword(input: ChangePasswordInput!): MessageResponse!

  """Create a new classroom (Teacher only)"""
  createClassroom(input: CreateClassroomInput!): ClassroomListModel!

  """Create a new lesson in module (Teacher only)"""
  createLesson(input: CreateLessonInput!): LessonModel!

  """Create a new module in subject (Teacher only)"""
  createModule(input: CreateModuleInput!): ModuleModel!

  """Teacher creates a student account"""
  createStudent(input: CreateStudentInput!): UserModel!

  """Create a new subject in classroom (Teacher only)"""
  createSubject(input: CreateSubjectInput!): SubjectModel!

  """Delete classroom (Teacher only)"""
  deleteClassroom(classroomId: String!): EnrollmentResultModel!

  """Delete lesson (Teacher only)"""
  deleteLesson(lessonId: String!): LessonResultModel!

  """Delete module (Teacher only)"""
  deleteModule(moduleId: String!): ModuleResultModel!

  """Delete subject (Teacher only)"""
  deleteSubject(subjectId: String!): SubjectResultModel!

  """Enroll student in classroom (Teacher only)"""
  enrollStudent(input: EnrollStudentInput!): EnrollmentResultModel!

  """Login with email and password"""
  login(input: LoginInput!): AuthResponse!

  """Refresh access token"""
  refreshToken(input: RefreshTokenInput!): RefreshTokenResponse!

  """Toggle lesson draft/published (Teacher only)"""
  toggleLessonDraft(lessonId: String!): LessonModel!

  """Toggle student active status"""
  toggleStudentActive(studentUserId: String!): UserModel!

  """Remove student from classroom (Teacher only)"""
  unenrollStudent(input: UnenrollStudentInput!): EnrollmentResultModel!

  """Update classroom (Teacher only)"""
  updateClassroom(input: UpdateClassroomInput!): ClassroomListModel!

  """Update lesson (Teacher only)"""
  updateLesson(input: UpdateLessonInput!): LessonModel!

  """Update module (Teacher only)"""
  updateModule(input: UpdateModuleInput!): ModuleModel!

  """Update own profile"""
  updateProfile(input: UpdateProfileInput!): UserModel!

  """Update subject (Teacher only)"""
  updateSubject(input: UpdateSubjectInput!): SubjectModel!
}

type Query {
  """Get students not yet enrolled in a classroom"""
  availableStudents(classroomId: String!): [StudentModel!]!

  """Get classroom detail with students & subjects"""
  classroomDetail(classroomId: String!): ClassroomDetailModel!

  """Get all classrooms for current teacher"""
  classrooms: [ClassroomListModel!]!

  """Health check endpoint"""
  health: String!

  """Get lesson detail with media"""
  lessonDetail(lessonId: String!): LessonDetailModel!

  """Get lessons for a module"""
  lessons(moduleId: String!): [LessonModel!]!

  """Get current logged-in user"""
  me: UserModel!

  """Get module detail with lessons"""
  moduleDetail(moduleId: String!): ModuleDetailModel!

  """Get modules for a subject"""
  modules(subjectId: String!): [ModuleModel!]!

  """Get classrooms for current teacher"""
  myClassrooms: [ClassroomModel!]!

  """Get all students for current teacher"""
  myStudents: [StudentWithUser!]!

  """Get subject detail with modules"""
  subjectDetail(subjectId: String!): SubjectDetailModel!

  """Get subjects for a classroom"""
  subjects(classroomId: String!): [SubjectModel!]!

  """API version"""
  version: String!
}

input RefreshTokenInput {
  refreshToken: String!
}

type RefreshTokenResponse {
  accessToken: String!
  refreshToken: String!
}

type StudentModel {
  createdAt: DateTime!
  currentXP: Float!
  id: ID!
  level: Float!
  totalXP: Float!
  user: UserModel!
  userId: String!
}

type StudentWithUser {
  classroom: ClassroomModel
  createdAt: DateTime!
  currentXP: Int!
  id: ID!
  level: Int!
  totalXP: Int!
  user: UserModel!
  userId: String!
}

type SubjectDetailModel {
  classroomId: String!
  color: String
  createdAt: DateTime!
  description: String
  icon: String
  id: ID!
  isActive: Boolean!
  moduleCount: Int!
  modules: [ModuleSummaryModel!]!
  name: String!
  order: Int!
  updatedAt: DateTime!
}

type SubjectModel {
  classroomId: String!
  color: String
  createdAt: DateTime!
  description: String
  icon: String
  id: ID!
  isActive: Boolean!
  moduleCount: Int!
  name: String!
  order: Int!
  updatedAt: DateTime!
}

type SubjectResultModel {
  message: String!
  success: Boolean!
}

type SubjectSummaryModel {
  color: String
  description: String
  icon: String
  id: ID!
  isActive: Boolean!
  moduleCount: Int!
  name: String!
  order: Int!
}

input UnenrollStudentInput {
  classroomId: String!
  studentUserId: String!
}

input UpdateClassroomInput {
  description: String
  id: String!
  isActive: Boolean
  name: String
}

input UpdateLessonInput {
  content: String
  description: String
  id: String!
  isActive: Boolean
  isDraft: Boolean
  order: Int
  title: String
}

input UpdateModuleInput {
  description: String
  id: String!
  isActive: Boolean
  name: String
  order: Int
}

input UpdateProfileInput {
  avatar: String
  parentName: String
  studentName: String
  teacherName: String
}

input UpdateSubjectInput {
  color: String
  description: String
  icon: String
  id: String!
  isActive: Boolean
  name: String
  order: Int
}

type UserModel {
  avatar: String
  createdAt: DateTime!
  email: String!
  id: ID!
  isActive: Boolean!
  isVerified: Boolean!
  lastLoginAt: DateTime
  parentName: String
  role: UserRole!
  studentName: String
  teacherName: String
  updatedAt: DateTime!
}

"""User roles in the system"""
enum UserRole {
  STUDENT_PARENT
  TEACHER
}